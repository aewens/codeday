// Generated by CoffeeScript 1.7.1
(function() {
  define(["vector"], function(Vector) {
    var Energy;
    Energy = (function() {
      function Energy() {
        this.E = 300;
        this.low = 100;
        this.reset = 300;
        this.cap = 1000;
      }

      Energy.prototype.check = function(k, x, m, h, r, p, q) {
        return (k * x * m * h) / (pow(r, p - q));
      };

      Energy.prototype.calc = function(k, x, m, h, r, p, q) {
        var total;
        total = (k * x * m * h) / (pow(r, p - q));
        this.E = this.E - total;
        if (this.E < 0) {
          this.E = 0;
        }
        return total;
      };

      Energy.prototype.update = function(time) {
        if (time % 5 === 0) {
          this.E = this.E + 10;
        }
        if (this.E >= this.cap) {
          return this.E = this.cap;
        }
      };

      return Energy;

    })();
    return Energy;
  });

}).call(this);
